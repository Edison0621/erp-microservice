# æŠ€æœ¯æ ˆä»‹ç»

<cite>
**æœ¬æ–‡æ¡£å¼•ç”¨çš„æ–‡ä»¶**
- [README.md](file://README.md)
- [src/ErpSystem.sln](file://src/ErpSystem.sln)
- [Dockerfile](file://Dockerfile)
- [docker-compose.yml](file://docker-compose.yml)
- [deploy/k8s/namespace.yaml](file://deploy/k8s/namespace.yaml)
- [deploy/helm/erp-system/values.yaml](file://deploy/helm/erp-system/values.yaml)
- [src/Web/ErpSystem.Web/package.json](file://src/Web/ErpSystem.Web/package.json)
- [src/Web/ErpSystem.Web/vite.config.ts](file://src/Web/ErpSystem.Web/vite.config.ts)
- [src/Web/ErpSystem.Web/tsconfig.json](file://src/Web/ErpSystem.Web/tsconfig.json)
- [src/BuildingBlocks/ErpSystem.BuildingBlocks/DependencyInjection.cs](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/DependencyInjection.cs)
- [src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs)
- [src/Services/Finance/ErpSystem.Finance/Program.cs](file://src/Services/Finance/ErpSystem.Finance/Program.cs)
- [components/pubsub.yaml](file://components/pubsub.yaml)
- [components/statestore.yaml](file://components/statestore.yaml)
</cite>

## ç›®å½•
1. [å¼•è¨€](#å¼•è¨€)
2. [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
3. [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
4. [æ¶æ„æ€»è§ˆ](#æ¶æ„æ€»è§ˆ)
5. [è¯¦ç»†ç»„ä»¶åˆ†æ](#è¯¦ç»†ç»„ä»¶åˆ†æ)
6. [ä¾èµ–å…³ç³»åˆ†æ](#ä¾èµ–å…³ç³»åˆ†æ)
7. [æ€§èƒ½è€ƒè™‘](#æ€§èƒ½è€ƒè™‘)
8. [æ•…éšœæ’é™¤æŒ‡å—](#æ•…éšœæ’é™¤æŒ‡å—)
9. [ç»“è®º](#ç»“è®º)
10. [é™„å½•](#é™„å½•)

## å¼•è¨€
æœ¬æŠ€æœ¯æ ˆä»‹ç»é¢å‘ERPç³»ç»Ÿçš„æ ¸å¿ƒæŠ€æœ¯é€‰å‹ä¸å®ç°è¦ç‚¹ï¼Œè¦†ç›–åç«¯(.NET 10ã€ASP.NET Coreã€Entity Framework Core)ã€å‰ç«¯(Reactã€TypeScriptã€Vite)ã€æ•°æ®åº“(PostgreSQLã€TimescaleDB)ã€ç¼“å­˜(Redis)ã€å¾®æœåŠ¡è¿è¡Œæ—¶(Dapr)ä»¥åŠå®¹å™¨åŒ–ä¸ç¼–æ’(Kubernetes/Helm)ã€‚æ–‡æ¡£åŒæ—¶æä¾›ç‰ˆæœ¬å…¼å®¹æ€§ä¸å‡çº§è·¯å¾„å»ºè®®ï¼Œå¸®åŠ©è¯»è€…å¿«é€Ÿç†è§£å¹¶è½åœ°è¯¥äº‘åŸç”ŸERPç³»ç»Ÿã€‚

## é¡¹ç›®ç»“æ„
è¯¥ä»“åº“é‡‡ç”¨å¤šé¡¹ç›®è§£å†³æ–¹æ¡ˆç»„ç»‡ï¼ŒåŒ…å«å…±äº«åŸºç¡€è®¾æ–½æ¨¡å—(BuildingBlocks)ã€å¤šä¸ªä¸šåŠ¡å¾®æœåŠ¡ã€ç½‘å…³ã€Webå‰ç«¯ä»¥åŠéƒ¨ç½²è„šæœ¬ã€‚æ•´ä½“ç»“æ„æ¸…æ™°åœ°åˆ†ç¦»äº†é¢†åŸŸå±‚ã€åº”ç”¨å±‚ã€åŸºç¡€è®¾æ–½å±‚ä¸å±•ç¤ºå±‚ã€‚

```mermaid
graph TB
subgraph "è§£å†³æ–¹æ¡ˆ"
SLN["src/ErpSystem.sln"]
end
subgraph "å…±äº«å†…æ ¸"
BB["ErpSystem.BuildingBlocks"]
end
subgraph "ç½‘å…³"
GW["ErpSystem.Gateway"]
end
subgraph "æ ¸å¿ƒä¸šåŠ¡æœåŠ¡"
FIN["ErpSystem.Finance"]
INV["ErpSystem.Inventory"]
SALES["ErpSystem.Sales"]
PROC["ErpSystem.Procurement"]
PROD["ErpSystem.Production"]
CRM["ErpSystem.CRM"]
PROJ["ErpSystem.Projects"]
end
subgraph "æ”¯æ’‘æœåŠ¡"
HR["ErpSystem.HR"]
PAY["ErpSystem.Payroll"]
ASSET["ErpSystem.Assets"]
ID["ErpSystem.Identity"]
MD["ErpSystem.MasterData"]
MRP["ErpSystem.Mrp"]
RPT["ErpSystem.Reporting"]
end
subgraph "å¹³å°æœåŠ¡"
AUTO["ErpSystem.Automation"]
QUAL["ErpSystem.Quality"]
MAINT["ErpSystem.Maintenance"]
SET["ErpSystem.Settings"]
ANA["ErpSystem.Analytics"]
end
SLN --> BB
SLN --> GW
SLN --> FIN
SLN --> INV
SLN --> SALES
SLN --> PROC
SLN --> PROD
SLN --> CRM
SLN --> PROJ
SLN --> HR
SLN --> PAY
SLN --> ASSET
SLN --> ID
SLN --> MD
SLN --> MRP
SLN --> RPT
SLN --> AUTO
SLN --> QUAL
SLN --> MAINT
SLN --> SET
SLN --> ANA
```

**å›¾è¡¨æ¥æº**
- [src/ErpSystem.sln](file://src/ErpSystem.sln#L1-L400)

**ç« èŠ‚æ¥æº**
- [README.md](file://README.md#L289-L323)
- [src/ErpSystem.sln](file://src/ErpSystem.sln#L1-L400)

## æ ¸å¿ƒç»„ä»¶
- åç«¯æ¡†æ¶ï¼š.NET 10ã€ASP.NET Coreã€Entity Framework Core
- å‰ç«¯æŠ€æœ¯ï¼šReact 18ã€TypeScriptã€Vite
- æ•°æ®åº“ï¼šPostgreSQL 16+ã€TimescaleDB
- ç¼“å­˜ï¼šRedis
- å¾®æœåŠ¡è¿è¡Œæ—¶ï¼šDaprï¼ˆäº‹ä»¶æ€»çº¿ã€çŠ¶æ€å­˜å‚¨ï¼‰
- å®¹å™¨åŒ–ä¸ç¼–æ’ï¼šDockerã€Kubernetesï¼ˆHelm Chartï¼‰

**ç« èŠ‚æ¥æº**
- [README.md](file://README.md#L217-L286)
- [Dockerfile](file://Dockerfile#L1-L37)
- [docker-compose.yml](file://docker-compose.yml#L1-L99)
- [deploy/helm/erp-system/values.yaml](file://deploy/helm/erp-system/values.yaml#L1-L127)

## æ¶æ„æ€»è§ˆ
ç³»ç»Ÿé‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œé€šè¿‡YARPç½‘å…³ç»Ÿä¸€å…¥å£ï¼Œå„ä¸šåŠ¡æœåŠ¡ç‹¬ç«‹éƒ¨ç½²ï¼›äº‹ä»¶é©±åŠ¨é€šè¿‡Dapräº‹ä»¶æ€»çº¿åœ¨æœåŠ¡é—´è§£è€¦ï¼›è¯»å†™åˆ†ç¦»ç»“åˆEvent Sourcingä¸CQRSï¼›å‰ç«¯é€šè¿‡SignalRå®ç°å®æ—¶ä»ªè¡¨ç›˜ä¸é€šçŸ¥ã€‚

```mermaid
graph TB
subgraph "ç½‘å…³å±‚"
GW["YARP API Gateway"]
end
subgraph "æ ¸å¿ƒä¸šåŠ¡æœåŠ¡"
FIN["ğŸ’° Finance"]
INV["ğŸ“¦ Inventory"]
SALES["ğŸ›’ Sales"]
PROC["ğŸ“‹ Procurement"]
PROD["ğŸ­ Production"]
CRM["ğŸ¤ CRM"]
PROJ["ğŸ“… Projects"]
end
subgraph "æ”¯æ’‘æœåŠ¡"
HR["ğŸ‘¥ HR"]
PAY["ğŸ’¸ Payroll"]
ASSET["ğŸ¢ Assets"]
ID["ğŸ” Identity"]
MD["ğŸ“ MasterData"]
MRP["ğŸ“ˆ MRP"]
RPT["ğŸ“Š Reporting"]
end
subgraph "å¹³å°æœåŠ¡"
AUTO["ğŸ¤– Automation"]
QUAL["âœ… Quality"]
MAINT["ğŸ”§ Maintenance"]
SET["âš™ï¸ Settings"]
ANA["ğŸ“‰ Analytics"]
end
subgraph "åŸºç¡€è®¾æ–½"
PG["PostgreSQL"]
TSDB["TimescaleDB"]
REDIS["Redis"]
DAPR["Dapr Sidecar"]
end
GW --> FIN
GW --> INV
GW --> SALES
GW --> PROC
GW --> PROD
GW --> CRM
GW --> PROJ
FIN --> PG
INV --> PG
SALES --> PG
CRM --> PG
PROJ --> PG
ANA --> TSDB
ID --> REDIS
FIN -.äº‹ä»¶æ€»çº¿.-> DAPR
INV -.äº‹ä»¶æ€»çº¿.-> DAPR
SALES -.äº‹ä»¶æ€»çº¿.-> DAPR
DAPR -.-> AUTO
DAPR -.-> ANA
```

**å›¾è¡¨æ¥æº**
- [README.md](file://README.md#L130-L183)
- [src/Services/Finance/ErpSystem.Finance/Program.cs](file://src/Services/Finance/ErpSystem.Finance/Program.cs#L20-L28)
- [src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs#L1-L31)

## è¯¦ç»†ç»„ä»¶åˆ†æ

### åç«¯æŠ€æœ¯æ ˆï¼ˆ.NET 10 + ASP.NET Core + EF Coreï¼‰
- è¿è¡Œæ—¶ä¸SDKï¼šä½¿ç”¨.NET 10ä½œä¸ºåŸºç¡€è¿è¡Œæ—¶ä¸SDKç‰ˆæœ¬ï¼Œç¡®ä¿æœ€æ–°æ€§èƒ½ä¸å®‰å…¨è¡¥ä¸ã€‚
- Webæ¡†æ¶ï¼šASP.NET Coreç”¨äºæ„å»ºREST APIä¸å®æ—¶åŠŸèƒ½ï¼ˆSignalRï¼‰ã€‚
- ORMï¼šEntity Framework Coreé…åˆNpgsqlè¿æ¥PostgreSQL/TimescaleDBï¼Œæ”¯æŒEvent Storeä¸è¯»å†™åº“åˆ†ç¦»ã€‚
- ä¾èµ–æ³¨å…¥ï¼šé€šè¿‡å…±äº«å†…æ ¸æ¨¡å—é›†ä¸­æ³¨å†ŒéªŒè¯ã€æ—¥å¿—ã€å®¡è®¡ã€æ€§èƒ½ç›‘æ§ç­‰æ¨ªåˆ‡è¡Œä¸ºã€‚
- äº‹ä»¶æ€»çº¿ï¼šé›†æˆDapräº‹ä»¶æ€»çº¿ï¼Œå‘å¸ƒé¢†åŸŸäº‹ä»¶åˆ°Redisä¸»é¢˜ï¼Œå®ç°æ¾è€¦åˆé€šä¿¡ã€‚

```mermaid
classDiagram
class Program {
+Main(args)
+AddDbContext()
+AddDaprEventBus()
+AddMediatR()
+EnsureCreatedAsync()
}
class DaprEventBus {
+PublishAsync(event)
-PubSubName
}
class DependencyInjection {
+AddBuildingBlocks(assemblies)
+AddValidatorsFromAssembly()
+AddHttpContextAccessor()
+AddScoped(IUserContext)
}
Program --> DaprEventBus : "æ³¨å†Œä¸ä½¿ç”¨"
Program --> DependencyInjection : "æ‰©å±•æ–¹æ³•"
```

**å›¾è¡¨æ¥æº**
- [src/Services/Finance/ErpSystem.Finance/Program.cs](file://src/Services/Finance/ErpSystem.Finance/Program.cs#L11-L76)
- [src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs#L11-L21)
- [src/BuildingBlocks/ErpSystem.BuildingBlocks/DependencyInjection.cs](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/DependencyInjection.cs#L10-L30)

**ç« èŠ‚æ¥æº**
- [src/Services/Finance/ErpSystem.Finance/Program.cs](file://src/Services/Finance/ErpSystem.Finance/Program.cs#L1-L88)
- [src/BuildingBlocks/ErpSystem.BuildingBlocks/DependencyInjection.cs](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/DependencyInjection.cs#L1-L31)
- [src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs#L1-L31)

### å‰ç«¯æŠ€æœ¯æ ˆï¼ˆReact + TypeScript + Viteï¼‰
- æ¡†æ¶ä¸ç”Ÿæ€ï¼šReact 18 + React Router DOM 7 + TailwindCSS + Framer Motion + Rechartsã€‚
- ç±»å‹å®‰å…¨ï¼šTypeScriptä¸¥æ ¼æ¨¡å¼ï¼ŒESNextç›®æ ‡ä¸æ¨¡å—è§£æç­–ç•¥æå‡å¼€å‘ä½“éªŒã€‚
- æ„å»ºå·¥å…·ï¼šViteæä¾›å¿«é€Ÿå¼€å‘æœåŠ¡å™¨ä¸ç”Ÿäº§æ„å»ºï¼Œå†…ç½®ä»£ç†è½¬å‘è‡³åç«¯APIä¸SignalR Hubã€‚
- å®æ—¶é€šä¿¡ï¼š@microsoft/signalrç”¨äºä¸åç«¯å®æ—¶ä»ªè¡¨ç›˜é€šä¿¡ã€‚

```mermaid
flowchart TD
Dev["å¼€å‘è€…å¯åŠ¨"] --> ViteDev["Vite å¼€å‘æœåŠ¡å™¨"]
ViteDev --> Proxy["ä»£ç†è§„åˆ™<br/>/api -> ç½‘å…³åœ°å€<br/>/hubs -> ç½‘å…³åœ°å€(ws)"]
Proxy --> Frontend["React åº”ç”¨"]
Frontend --> SignalR["SignalR è¿æ¥"]
Frontend --> Axios["HTTP è¯·æ±‚"]
Axios --> Backend["åç«¯æœåŠ¡"]
SignalR --> Backend
```

**å›¾è¡¨æ¥æº**
- [src/Web/ErpSystem.Web/vite.config.ts](file://src/Web/ErpSystem.Web/vite.config.ts#L5-L22)
- [src/Web/ErpSystem.Web/package.json](file://src/Web/ErpSystem.Web/package.json#L1-L35)
- [src/Web/ErpSystem.Web/tsconfig.json](file://src/Web/ErpSystem.Web/tsconfig.json#L1-L35)

**ç« èŠ‚æ¥æº**
- [src/Web/ErpSystem.Web/package.json](file://src/Web/ErpSystem.Web/package.json#L1-L35)
- [src/Web/ErpSystem.Web/vite.config.ts](file://src/Web/ErpSystem.Web/vite.config.ts#L1-L23)
- [src/Web/ErpSystem.Web/tsconfig.json](file://src/Web/ErpSystem.Web/tsconfig.json#L1-L35)

### æ•°æ®åº“æŠ€æœ¯æ ˆï¼ˆPostgreSQL + TimescaleDBï¼‰
- å…³ç³»å‹æ•°æ®ï¼šPostgreSQL 16+ä½œä¸ºä¸»æ•°æ®åº“ï¼Œæ”¯æŒEvent Storeä¸è¯»åº“ã€‚
- æ—¶é—´åºåˆ—ï¼šTimescaleDBç”¨äºé«˜æ€§èƒ½æ—¶é—´åºåˆ—åˆ†æä¸å®æ—¶ä»ªè¡¨ç›˜æ•°æ®ã€‚
- åˆå§‹åŒ–ï¼šé€šè¿‡Dockerå·æŒ‚è½½åˆå§‹åŒ–SQLè„šæœ¬ï¼Œè‡ªåŠ¨å®Œæˆæ•°æ®åº“ä¸æ‰©å±•å‡†å¤‡ã€‚

```mermaid
flowchart TD
Start(["å®¹å™¨å¯åŠ¨"]) --> Init["æŒ‚è½½åˆå§‹åŒ–è„šæœ¬<br/>init.sql / timescale-init.sql"]
Init --> Postgres["PostgreSQL å¯åŠ¨"]
Postgres --> Timescale["åŠ è½½ Timescale æ‰©å±•"]
Timescale --> Ready["æ•°æ®åº“å°±ç»ª"]
```

**å›¾è¡¨æ¥æº**
- [docker-compose.yml](file://docker-compose.yml#L72-L83)

**ç« èŠ‚æ¥æº**
- [docker-compose.yml](file://docker-compose.yml#L72-L83)
- [README.md](file://README.md#L221-L226)

### ç¼“å­˜æ–¹æ¡ˆï¼ˆRedisï¼‰
- äº‹ä»¶æ€»çº¿ä¸çŠ¶æ€å­˜å‚¨ï¼šDaprç»„ä»¶é€šè¿‡Rediså®ç°å‘å¸ƒè®¢é˜…ä¸åˆ†å¸ƒå¼çŠ¶æ€ç®¡ç†ã€‚
- ç»„ä»¶é…ç½®ï¼špubsubä¸statestoreå‡æŒ‡å‘redis:6379ï¼Œæ— å¯†ç é…ç½®ã€‚

```mermaid
graph LR
Dapr["Dapr Sidecar"] --> Redis["Redis"]
Dapr --> PubSub["pubsub.redis"]
Dapr --> State["state.redis"]
Redis --> PubSub
Redis --> State
```

**å›¾è¡¨æ¥æº**
- [components/pubsub.yaml](file://components/pubsub.yaml#L1-L13)
- [components/statestore.yaml](file://components/statestore.yaml#L1-L13)

**ç« èŠ‚æ¥æº**
- [components/pubsub.yaml](file://components/pubsub.yaml#L1-L13)
- [components/statestore.yaml](file://components/statestore.yaml#L1-L13)

### å¾®æœåŠ¡è¿è¡Œæ—¶ï¼ˆDaprï¼‰
- äº‹ä»¶æ€»çº¿ï¼šé€šè¿‡Dapräº‹ä»¶æ€»çº¿å‘å¸ƒé¢†åŸŸäº‹ä»¶ï¼Œä¸»é¢˜åé‡‡ç”¨äº‹ä»¶ç±»å‹åç§°çº¦å®šã€‚
- Sidecarï¼šæ¯ä¸ªæœåŠ¡é…å¥—Dapr sidecarï¼Œé€šè¿‡ç»„ä»¶ç›®å½•æŒ‚è½½pubsubä¸statestoreã€‚
- Sagaä¸å¯é æ€§ï¼šç»“åˆOutboxæ¨¡å¼ä¸Dapräº‹ä»¶æ€»çº¿å®ç°è·¨æœåŠ¡å¯é é€šä¿¡ã€‚

```mermaid
sequenceDiagram
participant Service as "ä¸šåŠ¡æœåŠ¡"
participant Dapr as "Dapr Sidecar"
participant Redis as "Redis"
participant OtherSvc as "å…¶ä»–æœåŠ¡"
Service->>Dapr : "PublishAsync(é¢†åŸŸäº‹ä»¶)"
Dapr->>Redis : "PublishEvent(pubsub, ä¸»é¢˜å)"
Redis-->>OtherSvc : "äº‹ä»¶æŠ•é€’"
OtherSvc->>Dapr : "è®¢é˜…ä¸»é¢˜"
Dapr-->>OtherSvc : "å›è°ƒå¤„ç†"
```

**å›¾è¡¨æ¥æº**
- [src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs#L11-L21)
- [docker-compose.yml](file://docker-compose.yml#L21-L28)

**ç« èŠ‚æ¥æº**
- [src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs#L1-L31)
- [docker-compose.yml](file://docker-compose.yml#L21-L28)

### å®¹å™¨åŒ–ä¸ç¼–æ’ï¼ˆDocker + Kubernetes/Helmï¼‰
- å¤šé˜¶æ®µæ„å»ºï¼šåŸºäºå®˜æ–¹.NET 10 SDKä¸ASP.NET 10è¿è¡Œæ—¶é•œåƒï¼Œæ”¯æŒå¥åº·æ£€æŸ¥ä¸è½»é‡éƒ¨ç½²ã€‚
- æœ¬åœ°ç¼–æ’ï¼šdocker-composeå®šä¹‰identity-apiã€gatewayã€Dapr placementã€Redisã€PostgreSQL/TimescaleDBä¸Zipkinã€‚
- ç”Ÿäº§ç¼–æ’ï¼šHelm Chartæä¾›å‘½åç©ºé—´ã€æœåŠ¡å‰¯æœ¬æ•°ã€èµ„æºé™åˆ¶ã€Ingressä¸Daprç»„ä»¶é…ç½®ã€‚

```mermaid
graph TB
subgraph "Docker é•œåƒ"
SDK["mcr.microsoft.com/dotnet/sdk:10.0"]
RUNTIME["mcr.microsoft.com/dotnet/aspnet:10.0"]
DOCKERFILE["Dockerfile å¤šé˜¶æ®µæ„å»º"]
end
subgraph "æœ¬åœ°ç¼–æ’"
DC["docker-compose.yml"]
ID["identity-api"]
GW["gateway"]
DAPR["daprd sidecar"]
REDIS["redis"]
PG["timescaledb"]
ZIP["zipkin"]
end
subgraph "ç”Ÿäº§ç¼–æ’"
HELM["Helm Chart"]
NS["Namespace: erp-system"]
SVC["å„æœåŠ¡ Deployment/Service"]
INGRESS["Ingress + TLS"]
DAPRCONF["Dapr ç»„ä»¶: redis"]
end
DOCKERFILE --> SDK --> RUNTIME
DC --> ID --> DAPR
DC --> GW --> DAPR
DC --> REDIS
DC --> PG
DC --> ZIP
HELM --> NS
HELM --> SVC
HELM --> INGRESS
HELM --> DAPRCONF
```

**å›¾è¡¨æ¥æº**
- [Dockerfile](file://Dockerfile#L1-L37)
- [docker-compose.yml](file://docker-compose.yml#L1-L99)
- [deploy/k8s/namespace.yaml](file://deploy/k8s/namespace.yaml#L1-L8)
- [deploy/helm/erp-system/values.yaml](file://deploy/helm/erp-system/values.yaml#L1-L127)

**ç« èŠ‚æ¥æº**
- [Dockerfile](file://Dockerfile#L1-L37)
- [docker-compose.yml](file://docker-compose.yml#L1-L99)
- [deploy/k8s/namespace.yaml](file://deploy/k8s/namespace.yaml#L1-L8)
- [deploy/helm/erp-system/values.yaml](file://deploy/helm/erp-system/values.yaml#L1-L127)

## ä¾èµ–å…³ç³»åˆ†æ
- è§£å†³æ–¹æ¡ˆå±‚é¢ï¼šæ‰€æœ‰æœåŠ¡ä¸ç½‘å…³ã€æµ‹è¯•é¡¹ç›®å‡åœ¨å•ä¸€è§£å†³æ–¹æ¡ˆä¸­ç®¡ç†ï¼Œä¾¿äºç»Ÿä¸€æ„å»ºä¸æµ‹è¯•ã€‚
- å…±äº«å†…æ ¸ï¼šBuildingBlocksæä¾›é€šç”¨è¡Œä¸ºï¼ˆéªŒè¯ã€æ—¥å¿—ã€å®¡è®¡ã€ç¼“å­˜ã€å¤šç§Ÿæˆ·ã€å¼¹æ€§ä¸å¯è§‚æµ‹æ€§ï¼‰ï¼Œè¢«å„æœåŠ¡å¤ç”¨ã€‚
- äº‹ä»¶æ€»çº¿ï¼šæœåŠ¡é€šè¿‡Dapräº‹ä»¶æ€»çº¿ä¸å…±äº«å†…æ ¸ä¸­çš„IEventBusæ¥å£è§£è€¦ã€‚

```mermaid
graph TB
SLN["src/ErpSystem.sln"]
BB["ErpSystem.BuildingBlocks"]
FIN["ErpSystem.Finance"]
INV["ErpSystem.Inventory"]
SALES["ErpSystem.Sales"]
SLN --> BB
SLN --> FIN
SLN --> INV
SLN --> SALES
FIN --> BB
INV --> BB
SALES --> BB
```

**å›¾è¡¨æ¥æº**
- [src/ErpSystem.sln](file://src/ErpSystem.sln#L1-L400)
- [src/BuildingBlocks/ErpSystem.BuildingBlocks/DependencyInjection.cs](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/DependencyInjection.cs#L10-L30)

**ç« èŠ‚æ¥æº**
- [src/ErpSystem.sln](file://src/ErpSystem.sln#L1-L400)
- [src/BuildingBlocks/ErpSystem.BuildingBlocks/DependencyInjection.cs](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/DependencyInjection.cs#L1-L31)

## æ€§èƒ½è€ƒè™‘
- æ•°æ®åº“æ€§èƒ½ï¼šä½¿ç”¨TimescaleDBä¼˜åŒ–æ—¶é—´åºåˆ—æŸ¥è¯¢ï¼ŒPostgreSQLå¯ç”¨æ‰©å±•ä¸ç´¢å¼•ç­–ç•¥ã€‚
- ç¼“å­˜ç­–ç•¥ï¼šRedisä½œä¸ºäº‹ä»¶æ€»çº¿ä¸çŠ¶æ€å­˜å‚¨ï¼Œé™ä½æ•°æ®åº“å‹åŠ›ï¼Œæå‡å“åº”é€Ÿåº¦ã€‚
- å®¹å™¨èµ„æºï¼šHelm valuesä¸ºå„æœåŠ¡è®¾ç½®CPU/å†…å­˜è¯·æ±‚ä¸é™åˆ¶ï¼Œé¿å…èµ„æºäº‰æŠ¢ã€‚
- æ„å»ºä¼˜åŒ–ï¼šViteæŒ‰éœ€æ‰“åŒ…ï¼Œ.NETå¤šé˜¶æ®µæ„å»ºå‡å°‘é•œåƒä½“ç§¯ä¸å¯åŠ¨æ—¶é—´ã€‚

## æ•…éšœæ’é™¤æŒ‡å—
- å¥åº·æ£€æŸ¥å¤±è´¥ï¼šç¡®è®¤å®¹å™¨å¥åº·æ£€æŸ¥ç«¯ç‚¹ä¸æš´éœ²ç«¯å£ä¸€è‡´ï¼Œæ£€æŸ¥ç½‘ç»œè¿é€šæ€§ã€‚
- Daprç»„ä»¶æœªåŠ è½½ï¼šç¡®è®¤componentsç›®å½•æŒ‚è½½æ­£ç¡®ï¼Œpubsub/statestoreæŒ‡å‘çš„Rediså¯è¾¾ã€‚
- æ•°æ®åº“è¿æ¥å¼‚å¸¸ï¼šæ£€æŸ¥è¿æ¥å­—ç¬¦ä¸²ã€å®¹å™¨ç½‘ç»œä¸æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬æ˜¯å¦æ‰§è¡ŒæˆåŠŸã€‚
- å‰ç«¯æ— æ³•è®¿é—®åç«¯ï¼šç¡®è®¤Viteä»£ç†é…ç½®ä¸ç½‘å…³ç«¯å£ä¸€è‡´ï¼ŒWebSocketä»£ç†å¼€å¯ã€‚

**ç« èŠ‚æ¥æº**
- [Dockerfile](file://Dockerfile#L31-L36)
- [docker-compose.yml](file://docker-compose.yml#L24-L28)
- [docker-compose.yml](file://docker-compose.yml#L10-L16)
- [src/Web/ErpSystem.Web/vite.config.ts](file://src/Web/ErpSystem.Web/vite.config.ts#L8-L20)

## ç»“è®º
è¯¥ERPç³»ç»Ÿä»¥.NET 10ä¸ºæ ¸å¿ƒï¼Œç»“åˆASP.NET Coreã€EF Coreã€Daprã€Reactã€TypeScriptä¸Viteï¼Œæ„å»ºå‡ºé«˜å¯æ‰©å±•ã€å¯è§‚æµ‹ä¸”äº‘åŸç”Ÿçš„ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡PostgreSQL/TimescaleDBä¸Redisæä¾›é«˜æ€§èƒ½çš„æ•°æ®ä¸ç¼“å­˜èƒ½åŠ›ï¼Œå€ŸåŠ©Dockerä¸Kubernetes/Helmå®ç°æ ‡å‡†åŒ–äº¤ä»˜ä¸è¿ç»´ã€‚æ•´ä½“æŠ€æœ¯æ ˆæˆç†Ÿç¨³å®šï¼Œå…·å¤‡è‰¯å¥½çš„å‡çº§ä¸æ¼”è¿›è·¯å¾„ã€‚

## é™„å½•

### ç‰ˆæœ¬å…¼å®¹æ€§ä¸å‡çº§è·¯å¾„
- .NET 10ï¼šå»ºè®®åœ¨CI/CDä¸­é”å®šSDKä¸è¿è¡Œæ—¶ç‰ˆæœ¬ï¼Œç¡®ä¿é•œåƒä¸æœ¬åœ°ç¯å¢ƒä¸€è‡´ã€‚
- PostgreSQL 16+ï¼šå‡çº§æ—¶å…ˆè¿›è¡Œå¤‡ä»½ä¸è¿ç§»è„šæœ¬éªŒè¯ï¼Œå†æ»šåŠ¨æ›´æ–°å®¹å™¨ã€‚
- TimescaleDBï¼šä¸PostgreSQLä¸»ç‰ˆæœ¬ä¿æŒå…¼å®¹ï¼Œå‡çº§å‰è¯„ä¼°æ‰©å±•ä¸æŸ¥è¯¢æ€§èƒ½å½±å“ã€‚
- Redisï¼šé‡‡ç”¨æ— å¯†ç é…ç½®ç”¨äºå¼€å‘ç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®å¯ç”¨è®¤è¯ä¸TLSã€‚
- Daprï¼šSidecarç‰ˆæœ¬ä¸PlacementæœåŠ¡ç‰ˆæœ¬éœ€åŒ¹é…ï¼Œå‡çº§æ—¶æ³¨æ„ç»„ä»¶é…ç½®ä¸€è‡´æ€§ã€‚
- Kubernetes/Helmï¼šChartç‰ˆæœ¬éšåŠŸèƒ½è¿­ä»£æ›´æ–°ï¼Œå‡çº§æ—¶ä½¿ç”¨helm diffæˆ–é€é¡¹å¯¹æ¯”values.yamlã€‚

**ç« èŠ‚æ¥æº**
- [README.md](file://README.md#L219-L226)
- [docker-compose.yml](file://docker-compose.yml#L57-L63)
- [deploy/helm/erp-system/values.yaml](file://deploy/helm/erp-system/values.yaml#L117-L123)