# æ ¸å¿ƒä¸šåŠ¡æœåŠ¡

<cite>
**æœ¬æ–‡å¼•ç”¨çš„æ–‡ä»¶**
- [README.md](file://README.md)
- [PRD-05-Inventory-Service.md](file://docs/PRD-05-Inventory-Service.md)
- [PRD-07-Production-Service.md](file://docs/PRD-07-Production-Service.md)
- [Program.csï¼ˆè´¢åŠ¡ï¼‰](file://src/Services/Finance/ErpSystem.Finance/Program.cs)
- [Program.csï¼ˆé‡‡è´­ï¼‰](file://src/Services/Procurement/ErpSystem.Procurement/Program.cs)
- [Program.csï¼ˆé”€å”®ï¼‰](file://src/Services/Sales/ErpSystem.Sales/Program.cs)
- [Program.csï¼ˆåº“å­˜ï¼‰](file://src/Services/Inventory/ErpSystem.Inventory/Program.cs)
- [Program.csï¼ˆç”Ÿäº§ï¼‰](file://src/Services/Production/ErpSystem.Production/Program.cs)
- [ErpSystem.BuildingBlocks.csproj](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/ErpSystem.BuildingBlocks.csproj)
- [DependencyInjection.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/DependencyInjection.cs)
- [CQRS/Abstractions.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/CQRS/Abstractions.cs)
- [Domain/DomainEventDispatcher.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Domain/DomainEventDispatcher.cs)
- [Outbox/OutboxInterceptor.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Outbox/OutboxInterceptor.cs)
- [Outbox/OutboxProcessor.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Outbox/OutboxProcessor.cs)
- [EventBus/DaprEventBus.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs)
- [EventBus/EventBusExtensions.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/EventBusExtensions.cs)
- [Behaviors/ValidationBehavior.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Behaviors/ValidationBehavior.cs)
- [Behaviors/LoggingBehavior.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Behaviors/LoggingBehavior.cs)
- [Behaviors/PerformanceBehavior.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Behaviors/PerformanceBehavior.cs)
- [Behaviors/IdempotencyBehavior.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Behaviors/IdempotencyBehavior.cs)
- [Middleware/Middlewares.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Middleware/Middlewares.cs)
- [Auth/AuthExtensions.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Auth/AuthExtensions.cs)
- [Auth/UserContext.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Auth/UserContext.cs)
- [Auth/SignatureVerificationMiddleware.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Auth/SignatureVerificationMiddleware.cs)
- [Analytics/Program.cs](file://src/Services/Analytics/ErpSystem.Analytics/Program.cs)
- [Analytics/BiAnalyticsService.cs](file://src/Services/Analytics/ErpSystem.Analytics/Infrastructure/BiAnalyticsService.cs)
- [Analytics/TimescaleDataExtractor.cs](file://src/Services/Analytics/ErpSystem.Analytics/Infrastructure/TimescaleDataExtractor.cs)
- [Analytics/DemandForecastEngine.cs](file://src/Services/Analytics/ErpSystem.Analytics/Infrastructure/DemandForecastEngine.cs)
- [Analytics/Hubs/AnalyticsHub.cs](file://src/Services/Analytics/ErpSystem.Analytics/API/Hubs/AnalyticsHub.cs)
- [Reporting/Program.cs](file://src/Services/Reporting/ErpSystem.Reporting/Program.cs)
- [Reporting/Controllers/DashboardController.cs](file://src/Services/Reporting/ErpSystem.Reporting/Controllers/DashboardController.cs)
- [Reporting/Application/DashboardService.cs](file://src/Services/Reporting/ErpSystem.Reporting/Application/DashboardService.cs)
- [Reporting/Application/ReportService.cs](file://src/Services/Reporting/ErpSystem.Reporting/Application/ReportService.cs)
- [Webå‰ç«¯å…¥å£ï¼ˆindex.htmlï¼‰](file://src/Web/ErpSystem.Web/index.html)
- [Webå‰ç«¯é¡µé¢ï¼ˆDashboard.tsxï¼‰](file://src/Web/ErpSystem.Web/src/pages/Dashboard.tsx)
- [Webå‰ç«¯æœåŠ¡ï¼ˆapi.tsï¼‰](file://src/Web/ErpSystem.Web/src/services/api.ts)
- [Webå‰ç«¯Hookï¼ˆuseAnalyticsHub.tsï¼‰](file://src/Web/ErpSystem.Web/src/hooks/useAnalyticsHub.ts)
- [Webå‰ç«¯å¸ƒå±€ï¼ˆMainLayout.tsxï¼‰](file://src/Web/ErpSystem.Web/src/layout/MainLayout.tsx)
- [Webå‰ç«¯å®æ—¶ä»ªè¡¨ç›˜ï¼ˆRealTimeDashboard.tsxï¼‰](file://src/Web/ErpSystem.Web/src/components/RealTimeDashboard.tsx)
- [Webå‰ç«¯è®¾ç½®APIï¼ˆsettingsApi.tsï¼‰](file://src/Web/ErpSystem.Web/src/api/settingsApi.ts)
- [Webå‰ç«¯è·¯ç”±ï¼ˆApp.tsxï¼‰](file://src/Web/ErpSystem.Web/src/App.tsx)
- [Webå‰ç«¯æ„å»ºé…ç½®ï¼ˆvite.config.tsï¼‰](file://src/Web/ErpSystem.Web/vite.config.ts)
- [Webå‰ç«¯åŒ…é…ç½®ï¼ˆpackage.jsonï¼‰](file://src/Web/ErpSystem.Web/package.json)
- [Webå‰ç«¯æ ·å¼ï¼ˆindex.cssï¼‰](file://src/Web/ErpSystem.Web/src/index.css)
- [Webå‰ç«¯TSé…ç½®ï¼ˆtsconfig.jsonï¼‰](file://src/Web/ErpSystem.Web/tsconfig.json)
- [Webå‰ç«¯TSé…ç½®ï¼ˆtsconfig.node.jsonï¼‰](file://src/Web/ErpSystem.Web/tsconfig.node.json)
- [Webå‰ç«¯PostCSSé…ç½®ï¼ˆpostcss.config.cjsï¼‰](file://src/Web/ErpSystem.Web/postcss.config.cjs)
- [Webå‰ç«¯Tailwindé…ç½®ï¼ˆtailwind.config.cjsï¼‰](file://src/Web/ErpSystem.Web/tailwind.config.cjs)
- [Webå‰ç«¯Tailwindé…ç½®ï¼ˆtailwind.config.jsï¼‰](file://src/Web/ErpSystem.Web/tailwind.config.js)
- [Webå‰ç«¯Dockerfile](file://src/Web/ErpSystem.Web/Dockerfile)
- [Gateway Program.cs](file://src/Gateways/ErpSystem.Gateway/Program.cs)
- [Gateway httpè¯·æ±‚ç¤ºä¾‹](file://src/Gateways/ErpSystem.Gateway/ErpSystem.Gateway.http)
- [Kuberneteséƒ¨ç½²ï¼ˆfinance.yamlï¼‰](file://deploy/k8s/services/finance.yaml)
- [Kuberneteséƒ¨ç½²ï¼ˆgateway.yamlï¼‰](file://deploy/k8s/services/gateway.yaml)
- [Kuberneteséƒ¨ç½²ï¼ˆinventory.yamlï¼‰](file://deploy/k8s/services/inventory.yaml)
- [Kuberneteséƒ¨ç½²ï¼ˆreporting.yamlï¼‰](file://deploy/k8s/services/reporting.yaml)
- [Helm Chartï¼ˆChart.yamlï¼‰](file://deploy/helm/erp-system/Chart.yaml)
- [Helm Valuesï¼ˆvalues.yamlï¼‰](file://deploy/helm/erp-system/values.yaml)
- [Helmæ¨¡æ¿ï¼ˆdeployment.yamlï¼‰](file://deploy/helm/erp-system/templates/deployment.yaml)
- [Helmæ¨¡æ¿ï¼ˆservice.yamlï¼‰](file://deploy/helm/erp-system/templates/service.yaml)
- [Helmæ¨¡æ¿ï¼ˆingress.yamlï¼‰](file://deploy/helm/erp-system/templates/ingress.yaml)
- [Helmæ¨¡æ¿ï¼ˆconfigmap.yamlï¼‰](file://deploy/helm/erp-system/templates/configmap.yaml)
- [Helmæ¨¡æ¿ï¼ˆ_helpers.tplï¼‰](file://deploy/helm/erp-system/templates/_helpers.tpl)
- [åŸºç¡€è®¾æ–½åˆå§‹åŒ–SQLï¼ˆinit.sqlï¼‰](file://infrastructure/init.sql)
- [TimescaleDBåˆå§‹åŒ–SQLï¼ˆtimescale-init.sqlï¼‰](file://infrastructure/timescale-init.sql)
- [é›†æˆæµ‹è¯•ï¼ˆProcurementToInventoryTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/ProcurementToInventoryTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆProductionToInventoryTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/ProductionToInventoryTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆSalesToInventoryTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/SalesToInventoryTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆMrpCalculationTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/MrpCalculationTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆGLTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/GLTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆQualityWorkflowTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/QualityWorkflowTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆHRToIdentityTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/HRToIdentityTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆAnalytics/PredictiveAnalyticsTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/Analytics/PredictiveAnalyticsTests.cs)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
3. [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
4. [æ¶æ„æ€»è§ˆ](#æ¶æ„æ€»è§ˆ)
5. [è¯¦ç»†ç»„ä»¶åˆ†æ](#è¯¦ç»†ç»„ä»¶åˆ†æ)
6. [ä¾èµ–å…³ç³»åˆ†æ](#ä¾èµ–å…³ç³»åˆ†æ)
7. [æ€§èƒ½è€ƒè™‘](#æ€§èƒ½è€ƒè™‘)
8. [æ•…éšœæ’é™¤æŒ‡å—](#æ•…éšœæ’é™¤æŒ‡å—)
9. [ç»“è®º](#ç»“è®º)
10. [é™„å½•](#é™„å½•)

## ç®€ä»‹
æœ¬æ–‡ä»¶ä¸ºæ ¸å¿ƒä¸šåŠ¡æœåŠ¡çš„æŠ€æœ¯ä¸ä¸šåŠ¡æ–‡æ¡£ï¼Œèšç„¦è´¢åŠ¡ä¼šè®¡ã€é‡‡è´­ç®¡ç†ã€åº“å­˜ç®¡ç†ã€é”€å”®ç®¡ç†ã€ç”Ÿäº§åˆ¶é€ äº”å¤§æ ¸å¿ƒæ¨¡å—ã€‚å†…å®¹æ¶µç›–ï¼š
- ä¸šåŠ¡åŠŸèƒ½ä¸æ•°æ®æ¨¡å‹å®šä¹‰
- API æ¥å£ä¸äº‹ä»¶å¤„ç†æœºåˆ¶
- æœåŠ¡é—´ä¸šåŠ¡æµç¨‹è¿æ¥ï¼ˆé‡‡è´­åˆ°åº“å­˜å†åˆ°é”€å”®çš„ä¾›åº”é“¾é—­ç¯ï¼‰
- äº‹ä»¶æº¯æºã€CQRSã€é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰å®è·µ
- æœåŠ¡é…ç½®ã€ä¾èµ–æ³¨å…¥ã€ä¸­é—´ä»¶ä¸å¯è§‚æµ‹æ€§
- ä¸ºä¸šåŠ¡ç”¨æˆ·æä¾›åŠŸèƒ½ç†è§£ï¼Œä¸ºå¼€å‘è€…æä¾›æ¶æ„è®¾è®¡ä¸ä»£ç å®ç°æŒ‡å¯¼

## é¡¹ç›®ç»“æ„
æ ¸å¿ƒä¸šåŠ¡æœåŠ¡é‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œå›´ç»•äº‹ä»¶æ€»çº¿ä¸äº‹ä»¶æº¯æºæ„å»ºï¼Œå…±äº«ä¼ä¸šçº§â€œå»ºç­‘å—â€ï¼ˆBuildingBlocksï¼‰èƒ½åŠ›ï¼ŒåŒ…å«è®¤è¯é‰´æƒã€è¡Œä¸ºç®¡é“ã€äº‹ä»¶æ€»çº¿ã€CQRS æŠ½è±¡ã€å¹‚ç­‰æ€§ã€å®¡è®¡ã€ç¼“å­˜ã€å¼¹æ€§ä¸å¯è§‚æµ‹æ€§ç­‰ã€‚

```mermaid
graph TB
subgraph "ç½‘å…³å±‚"
GW["YARP ç½‘å…³"]
end
subgraph "æ ¸å¿ƒä¸šåŠ¡æœåŠ¡"
FIN["ğŸ’° è´¢åŠ¡ä¼šè®¡"]
INV["ğŸ“¦ åº“å­˜ç®¡ç†"]
SALES["ğŸ›’ é”€å”®ç®¡ç†"]
PROC["ğŸ“‹ é‡‡è´­ç®¡ç†"]
PROD["ğŸ­ ç”Ÿäº§åˆ¶é€ "]
end
subgraph "æ”¯æ’‘æœåŠ¡"
ID["ğŸ” èº«ä»½è®¤è¯"]
MD["ğŸ“ ä¸»æ•°æ®"]
MRP["ğŸ“ˆ MRP"]
RPT["ğŸ“Š æŠ¥è¡¨"]
ANA["ğŸ“‰ åˆ†æ"]
end
subgraph "åŸºç¡€è®¾æ–½"
PG["PostgreSQL"]
TSDB["TimescaleDB"]
REDIS["Redis"]
DAPR["Dapr ä¾§è½¦"]
end
GW --> FIN & INV & SALES & PROC & PROD
GW --> ID & MD & MRP & RPT & ANA
FIN & INV & SALES & PROC & PROD -. "äº‹ä»¶æ€»çº¿" .-> DAPR
FIN & INV & SALES --> PG
ANA --> TSDB
ID --> REDIS
```

å›¾è¡¨æ¥æº
- [README.md](file://README.md#L130-L183)

ç« èŠ‚æ¥æº
- [README.md](file://README.md#L289-L322)

## æ ¸å¿ƒç»„ä»¶
- äº‹ä»¶æ€»çº¿ä¸äº‹ä»¶æº¯æºï¼šå„æ ¸å¿ƒæœåŠ¡å‡æ³¨å†Œäº‹ä»¶æ€»çº¿ä¸äº‹ä»¶å­˜å‚¨ï¼Œç»“åˆ MediatR å®ç°å‘½ä»¤/æŸ¥è¯¢ä¸é¢†åŸŸäº‹ä»¶è§£è€¦ã€‚
- CQRSï¼šåˆ†ç¦»è¯»å†™æ¨¡å‹ï¼Œä½¿ç”¨ MediatR çš„å‘½ä»¤/æŸ¥è¯¢å¤„ç†å™¨ä¸æŠ•å½±æœåŠ¡ã€‚
- é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼šèšåˆã€å€¼å¯¹è±¡ã€é¢†åŸŸäº‹ä»¶ä¸äº‹ä»¶å­˜å‚¨ï¼Œç¡®ä¿ä¸šåŠ¡ä¸€è‡´æ€§ä¸å¯è¿½æº¯æ€§ã€‚
- ä¾èµ–æ³¨å…¥ä¸è¡Œä¸ºç®¡é“ï¼šç»Ÿä¸€æ³¨å†Œ DbContextã€äº‹ä»¶å­˜å‚¨ã€MediatRã€è¡Œä¸ºï¼ˆéªŒè¯ã€æ—¥å¿—ã€æ€§èƒ½ã€å¹‚ç­‰ï¼‰ã€‚
- ä¸­é—´ä»¶ä¸è®¤è¯ï¼šå…¨å±€å¼‚å¸¸ã€è¯·æ±‚æ—¥å¿—ã€CorrelationIdã€JWT é‰´æƒä¸ç­¾åéªŒè¯ä¸­é—´ä»¶ã€‚
- å®æ—¶åˆ†æä¸BIï¼šSignalR å®æ—¶æ¨é€ã€TimescaleDB æ—¶é—´åºåˆ—åˆ†æã€ML.NET éœ€æ±‚é¢„æµ‹ã€‚

ç« èŠ‚æ¥æº
- [Program.csï¼ˆè´¢åŠ¡ï¼‰](file://src/Services/Finance/ErpSystem.Finance/Program.cs#L1-L88)
- [Program.csï¼ˆé‡‡è´­ï¼‰](file://src/Services/Procurement/ErpSystem.Procurement/Program.cs#L1-L79)
- [Program.csï¼ˆé”€å”®ï¼‰](file://src/Services/Sales/ErpSystem.Sales/Program.cs#L1-L79)
- [Program.csï¼ˆåº“å­˜ï¼‰](file://src/Services/Inventory/ErpSystem.Inventory/Program.cs#L1-L81)
- [Program.csï¼ˆç”Ÿäº§ï¼‰](file://src/Services/Production/ErpSystem.Production/Program.cs#L1-L79)
- [DependencyInjection.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/DependencyInjection.cs)
- [CQRS/Abstractions.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/CQRS/Abstractions.cs)
- [Domain/DomainEventDispatcher.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Domain/DomainEventDispatcher.cs)
- [EventBus/DaprEventBus.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/DaprEventBus.cs)
- [EventBus/EventBusExtensions.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/EventBus/EventBusExtensions.cs)
- [Behaviors/ValidationBehavior.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Behaviors/ValidationBehavior.cs)
- [Behaviors/LoggingBehavior.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Behaviors/LoggingBehavior.cs)
- [Behaviors/PerformanceBehavior.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Behaviors/PerformanceBehavior.cs)
- [Behaviors/IdempotencyBehavior.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Behaviors/IdempotencyBehavior.cs)
- [Middleware/Middlewares.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Middleware/Middlewares.cs)
- [Auth/AuthExtensions.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Auth/AuthExtensions.cs)
- [Auth/UserContext.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Auth/UserContext.cs)
- [Auth/SignatureVerificationMiddleware.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Auth/SignatureVerificationMiddleware.cs)

## æ¶æ„æ€»è§ˆ
æ ¸å¿ƒä¸šåŠ¡æœåŠ¡éµå¾ªâ€œäº‹ä»¶é©±åŠ¨ + CQRS + DDD + äº‹ä»¶æº¯æºâ€çš„æ¶æ„é£æ ¼ï¼ŒæœåŠ¡ä¹‹é—´é€šè¿‡ Dapr äº‹ä»¶æ€»çº¿è¿›è¡Œæ¾è€¦åˆé€šä¿¡ï¼Œè¯»æ¨¡å‹é€šè¿‡æŠ•å½±æœåŠ¡ä¸æ•°æ®åº“/æ—¶åºåº“åŒæ­¥ï¼Œå‰ç«¯é€šè¿‡ç½‘å…³è®¿é—®å„æœåŠ¡å¹¶å€ŸåŠ© SignalR å®æ—¶æ¥æ”¶åˆ†ææ•°æ®ã€‚

```mermaid
graph TB
subgraph "å‰ç«¯"
WEB["React å‰ç«¯"]
SIGNALR["SignalR Hub"]
end
subgraph "ç½‘å…³"
GW["YARP ç½‘å…³"]
end
subgraph "æ ¸å¿ƒæœåŠ¡"
FIN["è´¢åŠ¡ä¼šè®¡"]
INV["åº“å­˜ç®¡ç†"]
SALES["é”€å”®ç®¡ç†"]
PROC["é‡‡è´­ç®¡ç†"]
PROD["ç”Ÿäº§åˆ¶é€ "]
end
subgraph "æ”¯æ’‘æœåŠ¡"
ID["èº«ä»½è®¤è¯"]
MD["ä¸»æ•°æ®"]
MRP["MRP"]
RPT["æŠ¥è¡¨"]
ANA["åˆ†æ"]
end
subgraph "åŸºç¡€è®¾æ–½"
PG["PostgreSQL"]
TSDB["TimescaleDB"]
REDIS["Redis"]
EB["Dapr äº‹ä»¶æ€»çº¿"]
end
WEB --> GW
GW --> FIN & INV & SALES & PROC & PROD & ID & MD & MRP & RPT & ANA
FIN & INV & SALES & PROC & PROD --> EB
ANA --> SIGNALR
FIN & INV & SALES --> PG
ANA --> TSDB
ID --> REDIS
```

å›¾è¡¨æ¥æº
- [README.md](file://README.md#L130-L183)
- [Program.csï¼ˆè´¢åŠ¡ï¼‰](file://src/Services/Finance/ErpSystem.Finance/Program.cs#L20-L46)
- [Program.csï¼ˆåº“å­˜ï¼‰](file://src/Services/Inventory/ErpSystem.Inventory/Program.cs#L19-L41)
- [Program.csï¼ˆé”€å”®ï¼‰](file://src/Services/Sales/ErpSystem.Sales/Program.cs#L18-L42)
- [Program.csï¼ˆé‡‡è´­ï¼‰](file://src/Services/Procurement/ErpSystem.Procurement/Program.cs#L18-L42)
- [Program.csï¼ˆç”Ÿäº§ï¼‰](file://src/Services/Production/ErpSystem.Production/Program.cs#L18-L42)
- [Analytics/Program.cs](file://src/Services/Analytics/ErpSystem.Analytics/Program.cs)
- [Reporting/Program.cs](file://src/Services/Reporting/ErpSystem.Reporting/Program.cs)

## è¯¦ç»†ç»„ä»¶åˆ†æ

### è´¢åŠ¡ä¼šè®¡æœåŠ¡ï¼ˆFinanceï¼‰
- ä¸šåŠ¡åŠŸèƒ½
  - æ€»è´¦ï¼ˆGLï¼‰ï¼šåŒåˆ†å½•ã€ç§‘ç›®è¡¨ã€è¯•ç®—å¹³è¡¡ä¸è´¢åŠ¡æŠ¥è¡¨
  - åº”æ”¶åº”ä»˜ï¼šå‘ç¥¨ã€æ”¶æ¬¾ã€ä»˜æ¬¾ä¸å¯¹è´¦
  - èµ„äº§ç®¡ç†ï¼šèµ„äº§ç™»è®°ã€æŠ˜æ—§ä¸å¤„ç½®
  - è‡ªåŠ¨å‡­è¯ï¼šæ¥è‡ªé‡‡è´­ã€é”€å”®ã€åº“å­˜ã€ç”Ÿäº§çš„ä¸šåŠ¡äº‹ä»¶è‡ªåŠ¨ç”Ÿæˆä¼šè®¡åˆ†å½•
- æ•°æ®æ¨¡å‹
  - ç§‘ç›®ï¼ˆAccountï¼‰ã€ä¼šè®¡æœŸé—´ï¼ˆFinancialPeriodï¼‰ã€æ—¥è®°è´¦åˆ†å½•ï¼ˆJournalEntryï¼‰ã€å‘ç¥¨ï¼ˆInvoiceï¼‰ã€ä»˜æ¬¾ï¼ˆPaymentï¼‰ã€ææ–™æˆæœ¬è®¡ä»·ï¼ˆMaterialCostValuationï¼‰
- API æ¥å£
  - GL æ§åˆ¶å™¨ã€å‘ç¥¨æ§åˆ¶å™¨ã€é›†æˆäº‹ä»¶æ§åˆ¶å™¨ç­‰
- äº‹ä»¶å¤„ç†
  - è®¢é˜…é‡‡è´­ã€é”€å”®ã€åº“å­˜ã€ç”Ÿäº§ç­‰æœåŠ¡çš„é›†æˆäº‹ä»¶ï¼Œç”Ÿæˆæ€»è´¦åˆ†å½•ä¸æˆæœ¬ç»“è½¬
- äº‹ä»¶æº¯æºä¸ CQRS
  - ä½¿ç”¨äº‹ä»¶å­˜å‚¨æŒä¹…åŒ–é¢†åŸŸäº‹ä»¶ï¼Œè¯»æ¨¡å‹é€šè¿‡æŠ•å½±æœåŠ¡åŒæ­¥åˆ°åªè¯»åº“
- é…ç½®ä¸ä¾èµ–æ³¨å…¥
  - æ³¨å†Œäº‹ä»¶å­˜å‚¨ã€MediatRã€äº‹ä»¶æ€»çº¿ã€DbContextã€Swaggerã€æˆæƒ

```mermaid
classDiagram
class Account {
+string AccountId
+string Code
+string Name
+string Category
+decimal Balance
}
class JournalEntry {
+string EntryId
+string AccountId
+DateTime EntryDate
+decimal Debit
+decimal Credit
+string Reference
}
class Invoice {
+string InvoiceId
+string CustomerId
+DateTime IssueDate
+decimal Amount
+string Status
}
class Payment {
+string PaymentId
+string AccountId
+DateTime PaymentDate
+decimal Amount
+string Reference
}
class MaterialCostValuation {
+string ValuationId
+string MaterialId
+string WarehouseId
+decimal UnitCost
+decimal Quantity
+decimal Value
}
Account "1" --> "*" JournalEntry : "å€Ÿè´·åˆ†å½•"
Invoice "1" --> "*" JournalEntry : "ç”Ÿæˆå‡­è¯"
Payment "1" --> "*" JournalEntry : "ç”Ÿæˆå‡­è¯"
MaterialCostValuation "1" --> "*" JournalEntry : "æˆæœ¬ç»“è½¬"
```

å›¾è¡¨æ¥æº
- [Program.csï¼ˆè´¢åŠ¡ï¼‰](file://src/Services/Finance/ErpSystem.Finance/Program.cs#L20-L46)

ç« èŠ‚æ¥æº
- [Program.csï¼ˆè´¢åŠ¡ï¼‰](file://src/Services/Finance/ErpSystem.Finance/Program.cs#L1-L88)

### é‡‡è´­ç®¡ç†æœåŠ¡ï¼ˆProcurementï¼‰
- ä¸šåŠ¡åŠŸèƒ½
  - ä¾›åº”å•†ç®¡ç†ã€é‡‡è´­ç”³è¯·ä¸å®¡æ‰¹ã€é‡‡è´­è®¢å•ç”Ÿå‘½å‘¨æœŸã€æ”¶è´§ä¸è´¨æ£€ã€å¯¹è´¦ä¸ä»˜æ¬¾
- æ•°æ®æ¨¡å‹
  - é‡‡è´­è®¢å•ï¼ˆPurchaseOrderï¼‰ã€é‡‡è´­è®¢å•è¡Œã€æ”¶è´§å•ã€è´¨æ£€è®°å½•
- API æ¥å£
  - é‡‡è´­æ§åˆ¶å™¨æä¾›è®¢å• CRUDã€æ”¶è´§ã€å¯¹è´¦ç­‰æ¥å£
- äº‹ä»¶å¤„ç†
  - å‘å¸ƒâ€œæ”¶è´§å®Œæˆâ€ç­‰é›†æˆäº‹ä»¶ï¼Œé©±åŠ¨åº“å­˜å…¥åº“
- äº‹ä»¶æº¯æºä¸ CQRS
  - äº‹ä»¶å­˜å‚¨è®°å½•è®¢å•çŠ¶æ€å˜è¿ï¼Œè¯»æ¨¡å‹æŠ•å½±ç”¨äºæŸ¥è¯¢
- é…ç½®ä¸ä¾èµ–æ³¨å…¥
  - äº‹ä»¶å­˜å‚¨ã€MediatRã€äº‹ä»¶æ€»çº¿ã€DbContextã€Swagger

```mermaid
sequenceDiagram
participant Proc as "é‡‡è´­æœåŠ¡"
participant Bus as "äº‹ä»¶æ€»çº¿"
participant Inv as "åº“å­˜æœåŠ¡"
Proc->>Proc : "åˆ›å»ºé‡‡è´­è®¢å•"
Proc->>Proc : "æ”¶è´§ç¡®è®¤"
Proc->>Bus : "å‘å¸ƒ GoodsReceived äº‹ä»¶"
Bus-->>Inv : "æŠ•é€’äº‹ä»¶"
Inv->>Inv : "å¤„ç†å…¥åº“ReceiveStock"
Inv->>Inv : "æ›´æ–°åº“å­˜å°è´¦ä¸æµæ°´"
```

å›¾è¡¨æ¥æº
- [Program.csï¼ˆé‡‡è´­ï¼‰](file://src/Services/Procurement/ErpSystem.Procurement/Program.cs#L18-L42)
- [Program.csï¼ˆåº“å­˜ï¼‰](file://src/Services/Inventory/ErpSystem.Inventory/Program.cs#L19-L41)

ç« èŠ‚æ¥æº
- [Program.csï¼ˆé‡‡è´­ï¼‰](file://src/Services/Procurement/ErpSystem.Procurement/Program.cs#L1-L79)

### åº“å­˜ç®¡ç†æœåŠ¡ï¼ˆInventoryï¼‰
- ä¸šåŠ¡åŠŸèƒ½
  - å®ç‰©æ•°é‡ç®¡ç†ï¼šå°è´¦ã€å‡ºå…¥åº“æµæ°´ã€åº“å­˜é¢„ç•™ã€ç›˜ç‚¹ä¸è°ƒæ•´
  - æ”¯æŒå¤šä»“åº“ã€æœªæ¥æ”¯æŒæ‰¹æ¬¡/åº“ä½
- æ•°æ®æ¨¡å‹
  - åº“å­˜å°è´¦ï¼ˆInventoryItemï¼‰ã€å‡ºå…¥åº“æµæ°´ï¼ˆStockTransactionï¼‰ã€åº“å­˜é¢„ç•™ï¼ˆStockReservationï¼‰ã€åº“å­˜è°ƒæ•´ï¼ˆStockAdjustmentï¼‰
- API æ¥å£
  - å¯ç”¨åº“å­˜æŸ¥è¯¢ã€é¢„ç•™/é‡Šæ”¾ã€å…¥åº“/å‡ºåº“ã€æµæ°´æŸ¥è¯¢ã€è°ƒæ•´æ¥å£
- äº‹ä»¶å¤„ç†
  - è®¢é˜…é‡‡è´­æ”¶è´§ã€é”€å”®å‘è´§ã€ç”Ÿäº§é¢†æ–™/å®Œå·¥ç­‰äº‹ä»¶ï¼Œé©±åŠ¨åº“å­˜å˜åŠ¨
- äº‹ä»¶æº¯æºä¸ CQRS
  - äº‹ä»¶å­˜å‚¨è®°å½•åº“å­˜å˜åŠ¨ï¼Œè¯»æ¨¡å‹æŠ•å½±ç”¨äºæŸ¥è¯¢ä¸æŠ¥è¡¨
- é…ç½®ä¸ä¾èµ–æ³¨å…¥
  - äº‹ä»¶å­˜å‚¨ã€MediatRã€äº‹ä»¶æ€»çº¿ã€DbContextã€Swaggerã€é¢„æµ‹æœåŠ¡

```mermaid
flowchart TD
Start(["äº‹ä»¶/è¯·æ±‚è¿›å…¥"]) --> CheckType["è¯†åˆ«äº‹ä»¶ç±»å‹<br/>æ”¶è´§/å‘è´§/é¢†æ–™/å®Œå·¥/è°ƒæ•´"]
CheckType --> |æ”¶è´§| Receive["ReceiveStockHandler"]
CheckType --> |å‘è´§| Issue["IssueStockHandler"]
CheckType --> |é¢†æ–™| IssueProd["IssueStockHandler"]
CheckType --> |å®Œå·¥| ReceiveProd["ReceiveStockHandler"]
CheckType --> |è°ƒæ•´| Adjust["AdjustStockHandler"]
Receive --> UpdateInv["æ›´æ–°åº“å­˜å°è´¦<br/>OnHand/Reserved/Available"]
Issue --> UpdateInv
IssueProd --> UpdateInv
ReceiveProd --> UpdateInv
Adjust --> UpdateInv
UpdateInv --> LogTxn["è®°å½•å‡ºå…¥åº“æµæ°´"]
UpdateInv --> ReleaseReserve{"æ˜¯å¦é‡Šæ”¾é¢„ç•™ï¼Ÿ"}
ReleaseReserve --> |æ˜¯| UpdateReserve["é‡Šæ”¾å¯¹åº”é¢„ç•™"]
ReleaseReserve --> |å¦| End(["å®Œæˆ"])
UpdateReserve --> End
LogTxn --> End
```

å›¾è¡¨æ¥æº
- [Program.csï¼ˆåº“å­˜ï¼‰](file://src/Services/Inventory/ErpSystem.Inventory/Program.cs#L19-L41)
- [PRD-05-Inventory-Service.md](file://docs/PRD-05-Inventory-Service.md#L164-L324)

ç« èŠ‚æ¥æº
- [Program.csï¼ˆåº“å­˜ï¼‰](file://src/Services/Inventory/ErpSystem.Inventory/Program.cs#L1-L81)
- [PRD-05-Inventory-Service.md](file://docs/PRD-05-Inventory-Service.md#L1-L528)

### é”€å”®ç®¡ç†æœåŠ¡ï¼ˆSalesï¼‰
- ä¸šåŠ¡åŠŸèƒ½
  - å®¢æˆ·ç®¡ç†ã€æŠ¥ä»·/è®¢å•ã€å‘è´§ã€å¼€ç¥¨ã€å›æ¬¾ã€é”€å”®åˆ†æ
- æ•°æ®æ¨¡å‹
  - é”€å”®è®¢å•ï¼ˆSalesOrderï¼‰ã€é”€å”®è®¢å•è¡Œã€è£…è¿ï¼ˆShipmentï¼‰ã€å‘ç¥¨
- API æ¥å£
  - é”€å”®è®¢å•æ§åˆ¶å™¨ã€è£…è¿æ§åˆ¶å™¨ã€å‘ç¥¨æ§åˆ¶å™¨
- äº‹ä»¶å¤„ç†
  - å‘å¸ƒâ€œè®¢å•ç¡®è®¤â€ã€â€œè£…è¿ç¡®è®¤â€ç­‰äº‹ä»¶ï¼Œé©±åŠ¨åº“å­˜é¢„ç•™ä¸å‡ºåº“
- äº‹ä»¶æº¯æºä¸ CQRS
  - äº‹ä»¶å­˜å‚¨è®°å½•è®¢å•çŠ¶æ€å˜è¿ï¼Œè¯»æ¨¡å‹æŠ•å½±ç”¨äºæŸ¥è¯¢
- é…ç½®ä¸ä¾èµ–æ³¨å…¥
  - äº‹ä»¶å­˜å‚¨ã€MediatRã€äº‹ä»¶æ€»çº¿ã€DbContextã€Swagger

```mermaid
sequenceDiagram
participant Sales as "é”€å”®æœåŠ¡"
participant Inv as "åº“å­˜æœåŠ¡"
participant Bus as "äº‹ä»¶æ€»çº¿"
Sales->>Sales : "åˆ›å»ºé”€å”®è®¢å•"
Sales->>Inv : "è¯·æ±‚é¢„ç•™åº“å­˜"
Inv-->>Sales : "é¢„ç•™æˆåŠŸ/å¤±è´¥"
Sales->>Bus : "å‘å¸ƒè®¢å•ç¡®è®¤äº‹ä»¶"
Sales->>Bus : "å‘å¸ƒè£…è¿ç¡®è®¤äº‹ä»¶"
Bus-->>Inv : "æŠ•é€’é¢„ç•™é‡Šæ”¾/å‡ºåº“äº‹ä»¶"
Inv->>Inv : "æ‰§è¡Œå‡ºåº“å¹¶é‡Šæ”¾é¢„ç•™"
```

å›¾è¡¨æ¥æº
- [Program.csï¼ˆé”€å”®ï¼‰](file://src/Services/Sales/ErpSystem.Sales/Program.cs#L18-L42)
- [Program.csï¼ˆåº“å­˜ï¼‰](file://src/Services/Inventory/ErpSystem.Inventory/Program.cs#L19-L41)

ç« èŠ‚æ¥æº
- [Program.csï¼ˆé”€å”®ï¼‰](file://src/Services/Sales/ErpSystem.Sales/Program.cs#L1-L79)

### ç”Ÿäº§åˆ¶é€ æœåŠ¡ï¼ˆProductionï¼‰
- ä¸šåŠ¡åŠŸèƒ½
  - ç”Ÿäº§è®¢å•ç®¡ç†ã€æŠ•æ–™ï¼ˆé¢†æ–™å‡ºåº“ï¼‰ã€æŠ¥å·¥ï¼ˆåŠæˆå“/æˆå“å…¥åº“ï¼‰ã€åœ¨åˆ¶å“è§†å›¾
- æ•°æ®æ¨¡å‹
  - ç”Ÿäº§è®¢å•ï¼ˆProductionOrderï¼‰ã€æŠ•æ–™è®°å½•ï¼ˆMaterialConsumptionï¼‰ã€æŠ¥å·¥è®°å½•ï¼ˆProductionReportï¼‰
- API æ¥å£
  - ç”Ÿäº§è®¢å• CRUDã€æŠ•æ–™ã€æŠ¥å·¥ã€åœ¨åˆ¶å“æŸ¥è¯¢
- äº‹ä»¶å¤„ç†
  - å‘å¸ƒâ€œé¢†æ–™å®Œæˆâ€ã€â€œç”Ÿäº§å®Œæˆâ€ç­‰äº‹ä»¶ï¼Œé©±åŠ¨åº“å­˜å‡ºå…¥åº“
- äº‹ä»¶æº¯æºä¸ CQRS
  - äº‹ä»¶å­˜å‚¨è®°å½•è®¢å•çŠ¶æ€å˜è¿ï¼Œè¯»æ¨¡å‹æŠ•å½±ç”¨äºæŸ¥è¯¢
- é…ç½®ä¸ä¾èµ–æ³¨å…¥
  - äº‹ä»¶å­˜å‚¨ã€MediatRã€äº‹ä»¶æ€»çº¿ã€DbContextã€Swagger

```mermaid
sequenceDiagram
participant Prod as "ç”Ÿäº§æœåŠ¡"
participant Inv as "åº“å­˜æœåŠ¡"
participant Bus as "äº‹ä»¶æ€»çº¿"
Prod->>Prod : "åˆ›å»ºç”Ÿäº§è®¢å•"
Prod->>Bus : "å‘å¸ƒè®¢å•ä¸‹è¾¾äº‹ä»¶"
Prod->>Inv : "è¯·æ±‚é¢†æ–™å‡ºåº“"
Inv-->>Prod : "å‡ºåº“æˆåŠŸ"
Prod->>Bus : "å‘å¸ƒé¢†æ–™å®Œæˆäº‹ä»¶"
loop "å¤šæ¬¡æŠ¥å·¥"
Prod->>Inv : "è¯·æ±‚æˆå“å…¥åº“"
Inv-->>Prod : "å…¥åº“æˆåŠŸ"
Prod->>Bus : "å‘å¸ƒæŠ¥å·¥å®Œæˆäº‹ä»¶"
end
Prod->>Bus : "å‘å¸ƒç”Ÿäº§å®Œæˆäº‹ä»¶"
```

å›¾è¡¨æ¥æº
- [Program.csï¼ˆç”Ÿäº§ï¼‰](file://src/Services/Production/ErpSystem.Production/Program.cs#L18-L42)
- [Program.csï¼ˆåº“å­˜ï¼‰](file://src/Services/Inventory/ErpSystem.Inventory/Program.cs#L19-L41)
- [PRD-07-Production-Service.md](file://docs/PRD-07-Production-Service.md#L238-L328)

ç« èŠ‚æ¥æº
- [Program.csï¼ˆç”Ÿäº§ï¼‰](file://src/Services/Production/ErpSystem.Production/Program.cs#L1-L79)
- [PRD-07-Production-Service.md](file://docs/PRD-07-Production-Service.md#L1-L455)

### ä¾›åº”é“¾é—­ç¯ï¼ˆé‡‡è´­ â†’ åº“å­˜ â†’ é”€å”®ï¼‰
```mermaid
graph LR
PUR["é‡‡è´­æ”¶è´§"] --> INV["åº“å­˜å…¥åº“"]
INV --> SAL["é”€å”®å‘è´§"]
SAL --> FIN["è´¢åŠ¡å…¥è´¦"]
PROD["ç”Ÿäº§é¢†æ–™"] --> INV
PROD --> FIN
INV --> FIN
```

å›¾è¡¨æ¥æº
- [PRD-05-Inventory-Service.md](file://docs/PRD-05-Inventory-Service.md#L326-L371)
- [PRD-07-Production-Service.md](file://docs/PRD-07-Production-Service.md#L312-L335)

## ä¾èµ–å…³ç³»åˆ†æ
- æœåŠ¡é—´è€¦åˆ
  - é€šè¿‡ Dapr äº‹ä»¶æ€»çº¿è¿›è¡Œå¼‚æ­¥è§£è€¦ï¼Œé¿å…ç›´æ¥è°ƒç”¨
  - è¯»æ¨¡å‹é€šè¿‡æŠ•å½±æœåŠ¡ä¸æ•°æ®åº“/æ—¶åºåº“ä¿æŒæœ€ç»ˆä¸€è‡´
- å¤–éƒ¨ä¾èµ–
  - PostgreSQL ç”¨äºäº‹ä»¶å­˜å‚¨ä¸è¯»æ¨¡å‹
  - TimescaleDB ç”¨äºæ—¶é—´åºåˆ—åˆ†æ
  - Redis ç”¨äºèº«ä»½è®¤è¯ç¼“å­˜
- å¾ªç¯ä¾èµ–
  - é€šè¿‡äº‹ä»¶ä¸æŠ•å½±é¿å…å¾ªç¯è°ƒç”¨ï¼Œä¿æŒå•å‘æ•°æ®æµ

```mermaid
graph TB
subgraph "äº‹ä»¶å­˜å‚¨"
ES_F["è´¢åŠ¡äº‹ä»¶å­˜å‚¨"]
ES_P["é‡‡è´­äº‹ä»¶å­˜å‚¨"]
ES_S["é”€å”®äº‹ä»¶å­˜å‚¨"]
ES_I["åº“å­˜äº‹ä»¶å­˜å‚¨"]
ES_PR["ç”Ÿäº§äº‹ä»¶å­˜å‚¨"]
end
subgraph "è¯»æ¨¡å‹"
RM_F["è´¢åŠ¡è¯»åº“"]
RM_P["é‡‡è´­è¯»åº“"]
RM_S["é”€å”®è¯»åº“"]
RM_I["åº“å­˜è¯»åº“"]
RM_PR["ç”Ÿäº§è¯»åº“"]
end
ES_F --> RM_F
ES_P --> RM_P
ES_S --> RM_S
ES_I --> RM_I
ES_PR --> RM_PR
```

å›¾è¡¨æ¥æº
- [Program.csï¼ˆè´¢åŠ¡ï¼‰](file://src/Services/Finance/ErpSystem.Finance/Program.cs#L20-L24)
- [Program.csï¼ˆé‡‡è´­ï¼‰](file://src/Services/Procurement/ErpSystem.Procurement/Program.cs#L18-L22)
- [Program.csï¼ˆé”€å”®ï¼‰](file://src/Services/Sales/ErpSystem.Sales/Program.cs#L18-L22)
- [Program.csï¼ˆåº“å­˜ï¼‰](file://src/Services/Inventory/ErpSystem.Inventory/Program.cs#L19-L23)
- [Program.csï¼ˆç”Ÿäº§ï¼‰](file://src/Services/Production/ErpSystem.Production/Program.cs#L18-L22)

ç« èŠ‚æ¥æº
- [Program.csï¼ˆè´¢åŠ¡ï¼‰](file://src/Services/Finance/ErpSystem.Finance/Program.cs#L1-L88)
- [Program.csï¼ˆé‡‡è´­ï¼‰](file://src/Services/Procurement/ErpSystem.Procurement/Program.cs#L1-L79)
- [Program.csï¼ˆé”€å”®ï¼‰](file://src/Services/Sales/ErpSystem.Sales/Program.cs#L1-L79)
- [Program.csï¼ˆåº“å­˜ï¼‰](file://src/Services/Inventory/ErpSystem.Inventory/Program.cs#L1-L81)
- [Program.csï¼ˆç”Ÿäº§ï¼‰](file://src/Services/Production/ErpSystem.Production/Program.cs#L1-L79)

## æ€§èƒ½è€ƒè™‘
- æŸ¥è¯¢æ€§èƒ½
  - è¯»å†™åˆ†ç¦»ä¸æŠ•å½±æœåŠ¡ï¼Œå‡å°‘è·¨æœåŠ¡è”è¡¨æŸ¥è¯¢
  - åˆ†é¡µæŸ¥è¯¢ä¸ç´¢å¼•ä¼˜åŒ–ï¼Œç¡®ä¿åº“å­˜ä½™é¢ä¸æµæ°´æŸ¥è¯¢åœ¨åˆç†æ—¶é—´å†…è¿”å›
- å†™å…¥æ€§èƒ½
  - äº‹ä»¶å­˜å‚¨ä¸äº‹åŠ¡æ€§å‡ºç«™æ¶ˆæ¯ï¼ˆOutboxï¼‰ï¼Œä¿è¯äº‹ä»¶å¯é å‘å¸ƒ
  - å¹‚ç­‰æ€§å¤„ç†é¿å…é‡å¤äº‹ä»¶å¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´
- å®æ—¶åˆ†æ
  - TimescaleDB é«˜æ€§èƒ½æ—¶é—´åºåˆ—å­˜å‚¨ï¼ŒSignalR å®æ—¶æ¨é€é™ä½å»¶è¿Ÿ
- ç¼“å­˜ä¸å¼¹æ€§
  - åˆ†å¸ƒå¼ç¼“å­˜ä¸é‡è¯•/ç†”æ–­ç­–ç•¥æå‡ç³»ç»ŸéŸ§æ€§

## æ•…éšœæ’é™¤æŒ‡å—
- äº‹ä»¶æœªåˆ°è¾¾
  - æ£€æŸ¥äº‹ä»¶æ€»çº¿è®¢é˜…ä¸å‘å¸ƒé…ç½®ï¼Œç¡®è®¤äº‹ä»¶ç±»å‹ä¸è·¯ç”±æ­£ç¡®
- åº“å­˜ä¸ä¸€è‡´
  - æ ¸å¯¹åº“å­˜äº‹ä»¶å¤„ç†é¡ºåºä¸å¹‚ç­‰æ€§ï¼Œæ£€æŸ¥è°ƒæ•´/ç›˜ç‚¹æµç¨‹
- è®¢å•çŠ¶æ€å¼‚å¸¸
  - æŸ¥çœ‹äº‹ä»¶å­˜å‚¨ä¸­çš„äº‹ä»¶åºåˆ—ï¼Œå®šä½çŠ¶æ€æœºé”™è¯¯
- æ€§èƒ½é—®é¢˜
  - æ£€æŸ¥æ•°æ®åº“ç´¢å¼•ã€æŸ¥è¯¢è®¡åˆ’ä¸æŠ•å½±æœåŠ¡åŒæ­¥çŠ¶æ€
- è®¤è¯ä¸æˆæƒ
  - ç¡®è®¤ JWT é…ç½®ä¸ç­¾åéªŒè¯ä¸­é—´ä»¶ç”Ÿæ•ˆï¼Œæ£€æŸ¥ç”¨æˆ·ä¸Šä¸‹æ–‡ä¸æƒé™

ç« èŠ‚æ¥æº
- [Outbox/OutboxInterceptor.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Outbox/OutboxInterceptor.cs)
- [Outbox/OutboxProcessor.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Outbox/OutboxProcessor.cs)
- [Behaviors/IdempotencyBehavior.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Behaviors/IdempotencyBehavior.cs)
- [Auth/SignatureVerificationMiddleware.csï¼ˆBuildingBlocksï¼‰](file://src/BuildingBlocks/ErpSystem.BuildingBlocks/Auth/SignatureVerificationMiddleware.cs)

## ç»“è®º
æœ¬é¡¹ç›®ä»¥äº‹ä»¶é©±åŠ¨ä¸ºæ ¸å¿ƒï¼Œç»“åˆäº‹ä»¶æº¯æºã€CQRS ä¸ DDDï¼Œæ„å»ºäº†è´¢åŠ¡ã€é‡‡è´­ã€åº“å­˜ã€é”€å”®ã€ç”Ÿäº§äº”å¤§æ ¸å¿ƒä¸šåŠ¡æ¨¡å—çš„é—­ç¯ä½“ç³»ã€‚é€šè¿‡ç»Ÿä¸€çš„ä¼ä¸šçº§å»ºç­‘å—ï¼Œå®ç°äº†è®¤è¯ã€å®¡è®¡ã€ç¼“å­˜ã€å¼¹æ€§ä¸å¯è§‚æµ‹æ€§ç­‰æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼Œæ—¢æ»¡è¶³ä¸šåŠ¡ç”¨æˆ·çš„ä½¿ç”¨éœ€æ±‚ï¼Œä¹Ÿä¸ºå¼€å‘è€…æä¾›äº†æ¸…æ™°çš„æ¶æ„ä¸å®ç°æŒ‡å¯¼ã€‚

## é™„å½•
- å‰ç«¯ä¸å®æ—¶åˆ†æ
  - å‰ç«¯é€šè¿‡ç½‘å…³è®¿é—®åç«¯æœåŠ¡ï¼Œä½¿ç”¨ SignalR å®æ—¶æ¥æ”¶åˆ†ææ•°æ®
  - æä¾›ä»ªè¡¨ç›˜ã€é”€å”®è¶‹åŠ¿ã€åº“å­˜æŠ¥è¡¨ç­‰å¯è§†åŒ–ç•Œé¢
- éƒ¨ç½²ä¸è¿ç»´
  - æ”¯æŒ Kubernetes ä¸ Helm Chartï¼Œæä¾›å‘½åç©ºé—´ã€ConfigMapã€Secretsã€Ingress ç­‰èµ„æº
  - åŸºç¡€è®¾æ–½åŒ…å« PostgreSQLã€TimescaleDBã€Redis åˆå§‹åŒ–è„šæœ¬
- æµ‹è¯•ä¸è´¨é‡
  - åŒ…å«é›†æˆæµ‹è¯•è¦†ç›–ä¾›åº”é“¾é—­ç¯ä¸æ ¸å¿ƒæ¨¡å—ï¼Œä¿éšœä¸šåŠ¡æµç¨‹æ­£ç¡®æ€§

ç« èŠ‚æ¥æº
- [Webå‰ç«¯å…¥å£ï¼ˆindex.htmlï¼‰](file://src/Web/ErpSystem.Web/index.html)
- [Webå‰ç«¯é¡µé¢ï¼ˆDashboard.tsxï¼‰](file://src/Web/ErpSystem.Web/src/pages/Dashboard.tsx)
- [Webå‰ç«¯æœåŠ¡ï¼ˆapi.tsï¼‰](file://src/Web/ErpSystem.Web/src/services/api.ts)
- [Webå‰ç«¯Hookï¼ˆuseAnalyticsHub.tsï¼‰](file://src/Web/ErpSystem.Web/src/hooks/useAnalyticsHub.ts)
- [Webå‰ç«¯å¸ƒå±€ï¼ˆMainLayout.tsxï¼‰](file://src/Web/ErpSystem.Web/src/layout/MainLayout.tsx)
- [Webå‰ç«¯å®æ—¶ä»ªè¡¨ç›˜ï¼ˆRealTimeDashboard.tsxï¼‰](file://src/Web/ErpSystem.Web/src/components/RealTimeDashboard.tsx)
- [Webå‰ç«¯è®¾ç½®APIï¼ˆsettingsApi.tsï¼‰](file://src/Web/ErpSystem.Web/src/api/settingsApi.ts)
- [Webå‰ç«¯è·¯ç”±ï¼ˆApp.tsxï¼‰](file://src/Web/ErpSystem.Web/src/App.tsx)
- [Webå‰ç«¯æ„å»ºé…ç½®ï¼ˆvite.config.tsï¼‰](file://src/Web/ErpSystem.Web/vite.config.ts)
- [Webå‰ç«¯åŒ…é…ç½®ï¼ˆpackage.jsonï¼‰](file://src/Web/ErpSystem.Web/package.json)
- [Webå‰ç«¯æ ·å¼ï¼ˆindex.cssï¼‰](file://src/Web/ErpSystem.Web/src/index.css)
- [Webå‰ç«¯TSé…ç½®ï¼ˆtsconfig.jsonï¼‰](file://src/Web/ErpSystem.Web/tsconfig.json)
- [Webå‰ç«¯TSé…ç½®ï¼ˆtsconfig.node.jsonï¼‰](file://src/Web/ErpSystem.Web/tsconfig.node.json)
- [Webå‰ç«¯PostCSSé…ç½®ï¼ˆpostcss.config.cjsï¼‰](file://src/Web/ErpSystem.Web/postcss.config.cjs)
- [Webå‰ç«¯Tailwindé…ç½®ï¼ˆtailwind.config.cjsï¼‰](file://src/Web/ErpSystem.Web/tailwind.config.cjs)
- [Webå‰ç«¯Tailwindé…ç½®ï¼ˆtailwind.config.jsï¼‰](file://src/Web/ErpSystem.Web/tailwind.config.js)
- [Webå‰ç«¯Dockerfile](file://src/Web/ErpSystem.Web/Dockerfile)
- [Gateway Program.cs](file://src/Gateways/ErpSystem.Gateway/Program.cs)
- [Gateway httpè¯·æ±‚ç¤ºä¾‹](file://src/Gateways/ErpSystem.Gateway/ErpSystem.Gateway.http)
- [Kuberneteséƒ¨ç½²ï¼ˆfinance.yamlï¼‰](file://deploy/k8s/services/finance.yaml)
- [Kuberneteséƒ¨ç½²ï¼ˆgateway.yamlï¼‰](file://deploy/k8s/services/gateway.yaml)
- [Kuberneteséƒ¨ç½²ï¼ˆinventory.yamlï¼‰](file://deploy/k8s/services/inventory.yaml)
- [Kuberneteséƒ¨ç½²ï¼ˆreporting.yamlï¼‰](file://deploy/k8s/services/reporting.yaml)
- [Helm Chartï¼ˆChart.yamlï¼‰](file://deploy/helm/erp-system/Chart.yaml)
- [Helm Valuesï¼ˆvalues.yamlï¼‰](file://deploy/helm/erp-system/values.yaml)
- [Helmæ¨¡æ¿ï¼ˆdeployment.yamlï¼‰](file://deploy/helm/erp-system/templates/deployment.yaml)
- [Helmæ¨¡æ¿ï¼ˆservice.yamlï¼‰](file://deploy/helm/erp-system/templates/service.yaml)
- [Helmæ¨¡æ¿ï¼ˆingress.yamlï¼‰](file://deploy/helm/erp-system/templates/ingress.yaml)
- [Helmæ¨¡æ¿ï¼ˆconfigmap.yamlï¼‰](file://deploy/helm/erp-system/templates/configmap.yaml)
- [Helmæ¨¡æ¿ï¼ˆ_helpers.tplï¼‰](file://deploy/helm/erp-system/templates/_helpers.tpl)
- [åŸºç¡€è®¾æ–½åˆå§‹åŒ–SQLï¼ˆinit.sqlï¼‰](file://infrastructure/init.sql)
- [TimescaleDBåˆå§‹åŒ–SQLï¼ˆtimescale-init.sqlï¼‰](file://infrastructure/timescale-init.sql)
- [é›†æˆæµ‹è¯•ï¼ˆProcurementToInventoryTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/ProcurementToInventoryTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆProductionToInventoryTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/ProductionToInventoryTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆSalesToInventoryTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/SalesToInventoryTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆMrpCalculationTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/MrpCalculationTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆGLTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/GLTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆQualityWorkflowTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/QualityWorkflowTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆHRToIdentityTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/HRToIdentityTests.cs)
- [é›†æˆæµ‹è¯•ï¼ˆAnalytics/PredictiveAnalyticsTests.csï¼‰](file://src/Tests/ErpSystem.IntegrationTests/Analytics/PredictiveAnalyticsTests.cs)